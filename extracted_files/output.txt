00:00:00-00:00:11 Speaker 0: what brings me in here well I lost all my money in the crypto market I bought some stupid token I heard about on YouTube and basically lost my whole life savings and my wife left
00:00:11-00:00:23 Speaker 1: me I'm sorry to hear that losing money and then that one can be extremely taxing let's explore ways to come up and start rebuilding your financial and personal life okay how do
00:00:23-00:00:37 Speaker 0: I rebuild my life I feel like I just lost everything I've worked my whole life for so what I can do now I feel like money was everything for me I've been focused on it for so long and then I lost it all in an instant it's understandable to feel
00:00:37-00:00:48 Speaker 1: that way but there's more to life in just money let's work on finding your passions and girls and explore ways to manage your emotions and rebuild financial stability well
00:00:48-00:00:55 Speaker 0: I do have some other things I do like teaching online I like to make these YouTube videos that people seem to like how does
00:00:55-00:01:12 Speaker 1: that help me that's to help finances everyone welcome back today
00:01:12-00:03:25 Speaker 0: march first open I released to new API's the chat GPT and whisper API's and this evening I had a little bit of time on my hands and whipped up a project that I thought I would share with you and since I got it out the same day that means it's probably pretty easy to use so this little application I built the whole front end recording my voice getting a response that it says back to me using whisper and the chat GPT API this whole application only took me thirty lines of code and probably about thirty minutes for me to even think of the project and write it so that's the power of some of these tools this wasn't possible when I first started this series and I got excited when this came out to when this drop today so I thought I'd get something out pretty quick to show people how to use it and give you some ideas on ways you might use this thing so the application I just demote is pretty powerful like this the kind of stuff you saw in the the old movies where the guys talking to his phone it's actually delivering pretty intelligent answers and I've created this using a few pieces just a few simple pieces the first part that you see on your screen here is this user interface and I've created that using a library or package called radio and radio makes it really easy to create interactive application so this is people like the machine learning engineers and data scientists they're not that great at creating user interfaces are they might not be trained on making full stack web applications you know I'm more of a web app developer typically so that stuff I know how to do but a lot people just want a very simple way to hook up a couple widgets so you can create a little text which it just like that and say Oh create an interface give me an input of type text and an output of type text and call this function to transform that input into this output and it provides all these different ways to create input so there's audio input video input you can upload a file you can record from a microphone and then it creates a little widget for you right and so all I did is create a microphone input and then I could just record from the microphone Hey this is me recording for the microphone right and then I submit it and what I'm doing when I submitted
00:03:25-00:03:34 Speaker 1: that's funny you see
00:03:34-00:22:07 Speaker 0: I'm actually transcribing what I recorded my microphone using the whisper API so this new API that came out today what it is recorded it saves it as a local file and then I take that file and I post it over to open the ice servers it it transcribes that and gives me the text right back to me and so what I do with radio is I call the open I whisper API I get the text back and then I send that text over to the new chat GPT API and so you see their this conversation here is actually a continuation of what I was discussing at the very beginning in the intro this video so it's kind of funny I just said that Sentius there to test it out and it actually replied and I have all this context saved here so it's more instead of like GPT three API that I used earlier in this series there's a whole dialogue happening and it knows what I've said in the past which is really cool and so I'm saving all those messages that were saved in the past and I'm having this conversation using my voice transcribing to a text using whisper saying that text to chat GPT API its responding and guess what with the text that's responded from the chat EBT API I'm piping that to my operating system and having maco s-e-x say that text out loud and so that's how I get the little the synthesized voice and there's a lot of different tools you can use for creating a synthesized voice you can even clone voices there's a lot of cold stuff you can do now so yeah let's go ahead and get started with discussing how to create this thing so to build this application will first start with the user interface are the most basic user interface we can just take it from the radio home page there's a little quick-start guide right here and this shows how to use it and so you just need to pip install radios your can install the radio python package you can do a pip install radio just like that and if you look I've included a requirement stop text you can do pip install dash our requirements not text if you just wanted saw the package here but there's only two of them open ai and radio so now that I have radio installed let me to show you a quick bare bones radio application some and make one called a web dopp high and I was gonna paced in the most basic radio app right here from the home page so you can see you just import the package you create a new radio interface that you launch and we need to do is say what are the inputs what are the outputs and what function do you call to transform the input into the output and so let's run this and you'll see what it does and so I'm just gonna do I'm gonna run it someone to run that file it's going to tell me it's running on local hosts at set port seventy-eight sixty someone take this URL to go to my browser and you see I have an input called name right so there's my input and then my output is right here and those are both text fields and so whenever I put some input into text there so I must say Larry here is my name and I submit it you see it's going to say hello Larry just like that so my input I put hello that calls a function called greet and that input comes in as an input to this function called name and it just returns whatever returns goes into the output text so it says hello and then whatever name I put in right just like that and so what I could do here is just take the text I put in and send that over the chat GPT API and have it respond with text and have a little my own private chat interface over here that's not running on chat GPT on open ai dot-com right we can make your own custom convert conversational bought for your own purposes or for your business there's tons of value people are gonna create these everywhere hurt Snapchat has already integrated this a bunch of companies you're in theirs can be a chat bots all over the place so it's good to know how to make your own there's can be a lot of jobs based around this concept etc set or so I'm there you go that's how you use radio so now instead of a text input I want an audio input so if you go to the documentation of greater you'll see there's all these different widgets and plots visualization that center etc but you see there's a component for audio so all you need is this Giada audio and you give it a source either you can upload a file audio it from a file or you can do it from source microphone and so you can see in the therapist app hear what I did is at the bottom you see instead on my interface here for the web instead of interface input type text and at the text I said input type its audio I said source is microphone and then output is still text right and so instead of calling greet what we're doing is making a function called transcribe and so since this is an audio input what it'll actually do is pass in some audio input into the transcribe function so let's see what happens here so I'm just gonna return hello for now and then actually I'll just return the transcription goes here and then I'm not say a print audio Jussi see what goes in here someone stop this right there I'm gonna relaunch this I'm I called it demo I changed it to you I so UI greater and phrase audio input and I do you I launch right there and so when to run this again and let's see now that I changed type to audio look at that magically it went from input type text record from microphone hi I'm recording from the microphone I stopped the recording recording from the microphone it knows how to record audio I didn't have to write a lot of code to fear how to do this now in a click submit and it says transcription goes here so we need to fill in how to process this and you know is I printed the audio input that came in here and you notice look at that it gives me a file path to a wave file perfect I have an audio file which is exactly what the whisper API want so I'm gonna post this wave file over to the open a speech to text API like this so if I go to the open API and their documentation you see there's this new and called a speech to text I go to the quick start I need to import open ai I'm import that and if you've followed this tutorial you know that we need an API key we've done this on every single video almost so you need an API key so you just need to go to your account settings on open ai generate an API key watch mother videos and everyone should know how to do this by now and put an API key there you can also put this in an environment variable where you can hardcode it here if you're just playing around with this no big deal and delete it later all right so um I put mine in a config file so I'm importing config and in there I have a variable called open ai API key so I'm just doing config the open ai API key and just like that the open ai API is ready to use and so let's just take the first simple code example we have so it we just wants a path to the file we have a patch of the file because it's called audio so I'm just not say open audio right that comes in from radio and Emma say transcript equals open the audio dot transcribe this is the name of a model so I'll just leave that their whisper one and let's just see if it will transcribe my audio file so I mean to say a print transcript just like that and I don't think radio otr lodestones can stop it and re-run it and so I'm in refresh their try to transcribe this see if you can do it and then let's see transcription goes here so I need to return so whatever I return from this function here is what goes into the output so I returned transcription goes here but what I really want to do is you see I printed transcript its it gives me this response here in Jason format and so the response has an attribute god text try to transcribe to see if you do this look at that open air whisper did it just like that and so I'm to say return transcript and the key here is text and return that and I'll run this and let's try another transcription submit that let's try another transcription so look at that I already have a web application that transcribes audio that I speak into the microphone and that's only like eighteen lines of code now what's their left to do well let's figure out how to use the chat GPT API so if I go here there's a new so we use text completion already look there's one called chat completion now and if you look at how this looks let's study this real quick so I'm in a copy of this chat completion dot create right and so I'm to put this here art I'm on a paste that's right into my transcribe function right and so looks like all we didn't to do is call a function called create on chat completion hear it has a new model note we've been using text da Vinci three right we've been using that in previous videos now there's a new one GPT three point five turbot so it must be better like street fighter to turbos so much better than the first edition and the previous edition so this thing is getting better and better and not only that it's like ten times cheaper if you read the documentation so lot things I've had I've had some comments in my earlier in the series saying all this is much too expensive to be feasible and you can't have a financial advisor you can't do this you can't do that focus less on what's possible now I think about how fast these interchanging every single day going better every day smart people working on this and so it's gonna blow your mind what's possible by the next few months at the end of the year and it's crazy so I'm look at this I'm I have I didn't know it's gonna be able to create a thirty line a bot here where I can talk to and it gives me an intelligent answer back so who knows where the thing is going so um what am I do here is a response equals opening at completion create and missed consent at this list of messages now note instead of just a single message like completing one sentence note this is a list of messages here and each message here is a dictionary and one key is called roll and once called user and once called assistant you'll notice the very first message its role system and so here says content you are a helpful assistant so you're telling a GPT or chat GPT what it is so you're a helpful assistant you can say you are a command line prompt generator or you can say you are an x sports an answer you are a wrapper jazy and that'll kind of defined kind of how it behaves a bit and someone say you are a therapist right and that's what how I came up with this one and so I just I'm just saying you're a therapist and so that's the first message and then the other roles here it's a list this is like the list of chat messages and so anything that comes from me I'm the user and so what did I say so let's say I'm saying who won the world series in twenty twenty and I'm to change this I'm gonna say instead of that instead of who on the world series I just wanted to say I'm whatever came in my transcript so to say transcript a text and plug that right in and I'm on a take-out this part for nowness gonna comment that out and see the response so I'm just gonna go directly I'm from what I said my audio send that in and I'm on a print out the response here okay so in the print the response and yeah we might already have this working a simple version so I'm to do that and so now when reload this guy one more time all right I'm and say my first message to my therapist now I'm gonna say I have a terrible gambling addiction and I'm gonna say that and I'm not submit it and that's what I said but let's see what the response is that I printed here so the content of their sponsors I'm here to listen to you and I want to let you know you're not alone in this gambling addiction can be difficult to overcome it's important to remember the help is available can you tell me more about what's happening with your addiction and how it's affecting life so great I'm already able to talk to the chat GPT API using my voice and I get a text response back right and so that's great and so you see the next role in here is called assistant so this keeps track of what the assistant said back and then I can say something else and continue this conversation so what I want to do is keep track of all the messages and so what would it do what I decided to and maybe there's another way you want to do this I just kept a list of messages at the top globally here to demonstrate this and eventually you know try not a good idea to have a giant list but for the purpose of this here is pretty good maybe you might want to store it in a database read as some other place you want to catch this so I'm a start out with the messages at the top here and I'm in a passing the list of messages right and so here at the top and messages I'm uninitialized this with just the system here so so at the very top here I have my list of messages and the keep upending messages to this list and so all them all I have at the beginning is sending it you are a therapist right and then inside of here I'm to some new global messages since I want this messages to be in scope of transcribed and on be changing the messages inside of this transcribe function so what of an to hear is I am going to pass at the messages I'm and so what I want is to append to that messages lists on my do messages not a pen so when I talk I want to append a new message and so let me look at what I did hear any remind myself yeah I appended a new message of role user and so I'm going to append a message with role user because I'm gonna say something and then roll user is cunning me I'm ascent my transcript text right and then I'm in a call chat GPT with my list of messages right with my appended user text and then when it response I want to append what chat CBT says back to me so I'm to do another append here so first I'm the store the system message so sad TBT response it has this a dictionary that has an actress be called choices message and then content so I'm going to do a choices which is a list so I must say system message equals choices it's the zero element the first element this list and then I'm getting the message attribute right there and then I'm gonna get the khan content which is that key right there and so that is the message from the assistant just like that so it's a response choices zero message content and just make sure yeah response choice is zero message that's respond okay so that's the system message and so then I can just append that message so I'm just say I'm messages got append right and then instead of role user I'm an impend the system message so I'm keeping track of the state of this conversation I just have a big list of messages right here and I'm an append role assistant right and I'm append the system message right there just like that and then I'll have what I said and what a chat gpd set back and the next time I call it I'm in a pen the other thing I said and then nothing incense back and then I have this big list of messages of this chat dialogue that I'm having with my therapist just like that so a pretty cool their right and then all I really need to do after that it's just return I just wanted to return the complete a text transcripts so what I want to put in this output now I don't want it to put what I said I want to put what I said in my name and then I want to put what the system said back to me and record the whole chat dialogue and put it in this output here and so what I just wanted to do is build a string of text from that messages list and so let me go back to my example here and so what I did was create this cat transcript just like that and so what I did was just Luke the messages and then I record them all and so what I did was just Luke to the message is so I start with an empty transcript I looped through all the messages and then I record the role so I append the role and the message content and a couple charactery turns and then I just returned this cats chat transcripts I'm just looking the messages converted into plain text and then return that text right here chat transcript just like that and then I can remove that response and let me run this one more time let me see if this works so unload this Hey I have a terrible gambling addiction I submit that and you see I said user Hey I have a turbot gambling addiction assistant hi there started here struggling it sen-sen let's see if I can record something else so I'm a clear this start again well I've been playing a lot of black Jack lately and I hit on eighteen I can't help myself and then you see my transcript I've appended more messages so I said well I've been playing a lot black Jack lately I hit on eighteen I can't help myself sounds like you're showing with difficult situation it's cetera set of trouble condition so on so forth and I can even send other text saying at the beginning of system here if I don't want those verbose responses I can say limp in response to twenty words be concise you give it tons of instructions on how to respond so I could say you're a therapist's respond as if you were a wrapper jazy right and so I can run this again and do this and I said I do a lot of drugs and I have a gambling addiction what I do and I can see the assisted response jojo you I hear you loud and clear you're dealing with some plums that bring you fear but listen up my friend cause I got some tips to help you out of this ride you got to get your way to grip that so far so it right the whole rap song and my I can say you're a therapist jazy style wrapper and it'll give me my response that way and so that's how you use this a role system here and then I can chat with it there and so the final thing I wanted you to give this a little bit more pizzaz is to have it say something back to me and maco s-e-x actually has a command called say and I can say hello how are you and you right it's just a command line command and in the system settings and s-e-x you can in the there's a setting in there where you can change the different voices so has a lot of different voices and if you want experiment with voice cloning and other things you can do that as well but to keep it simple I just did a system call and so in python you can just import subprocess right there so that's built into python so I can just do a import a sub process just like that so then just below system message so once I get what the assistant says back I can do my subprocess dot call and Emma say say and then give it the system message I want it to say just like that and yes system message I don't think I need the content now with this version okay cool suppress not called say and so let me run this again all right and then I'm going to record I have a problem I'm addicted
00:22:07-00:22:56 Speaker 1: to the stock market you know you know you know addicted to the stock market huh let me tell you something about it listen up first you've got to ask yourself why you're addicted is a thrill-seeking or you're trying to get rich quick it if it's the former find some legal ways to get the time you don't want the feds busted in with an FBI tie if it's a letter slow down take it easy investing ain't no joke it's better to be cheesy and investing index funds those with less volatility less loss Morgane that's the money mentality but seriously addiction ain't no joke it's hard to overcome it's like you're being to talk to a therapist find the root of the problem and sooner now if you'll be out of the stock market column and there you go
00:22:56-00:23:05 Speaker 0: now you know how to use radio open I whisper API and the chat GPT API I hope you build something cool with it
